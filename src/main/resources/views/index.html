<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
  <title>欢迎使用图书馆管理系统</title>
  <link rel="stylesheet" href="css/bootstrap.css" />
  <link rel="stylesheet" href="css/css.css" />
  <script type="text/javascript" src="js/jquery1.9.0.min.js"></script>
  <script type="text/javascript" src="js/bootstrap.min.js"></script>
  <script type="text/javascript" src="js/sdmenu.js"></script>
  <script type="text/javascript" src="js/laydate/laydate.js"></script>
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport"
          content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"/>
    <meta http-equiv="Cache-Control" content="no-siteapp"/>
    <script type="text/javascript" src="lib/html5shiv.js"></script>
    <script type="text/javascript" src="lib/respond.min.js"></script>
    <link rel="stylesheet" type="text/css" href="static/h-ui/css/H-ui.min.css"/>
    <link rel="stylesheet" type="text/css" href="lib/Hui-iconfont/1.0.8/iconfont.min.css"/>
    <link href="static/h-ui/css/H-ui.ie.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="lib/DD_belatedPNG_0.0.8a-min.js"></script>
    <script>DD_belatedPNG.fix('*');</script>

</head>

<body>
<div class="header">
	<div class="logo"><a href="index.html"><img  src="img/logo.png" /></a></div>
  <div class="header-right">
    <i class="icon-off icon-white"></i> 
    <a id="modal-973558" href="#modal-container-973558" role="button" data-toggle="modal">注销</a> 
    <div id="modal-container-973558" class="modal hide fade" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="width:300px; margin-left:-150px; top:30%">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
				<h3 id="myModalLabel">
					注销系统
				</h3>
			</div>
			<div class="modal-body">
				<p>
					您确定要注销退出系统吗？
				</p>
			</div>
			<div class="modal-footer">
				<button class="btn" data-dismiss="modal" aria-hidden="true">关闭</button>
        <a class="btn btn-primary" style="line-height:20px;" href="login.html" >确定退出</a>
			</div>
		</div>
	</div>
</div>
<!-- header -->
            
<div id="middle">
  <div class="left">
    <script type="text/javascript">
      var myMenu;
      window.onload = function() {
      	myMenu = new SDMenu("my_menu");
      	myMenu.init();
      };
    </script>

    <div id="my_menu" class="sdmenu">
      <div class="collapsed">
        <span>部门管理</span>
        <a th:href="@{personnel_one.html}">控告申诉检察部门</a>
        <a th:href="@{personnel_two.html}">反贪污贿赂部门</a>
        <a th:href="@{personnel_three.html}">反渎职侵权部门</a>
        <a th:href="@{personnel_four.html}">侦查监督部门</a>
        <a th:href="@{personnel_five.html}">公诉部门</a>
        <a th:href="@{personnel_six.html}">监所检察部门</a>
        <a th:href="@{personnel_seven.html}">民事行政检察部门</a>
        <a th:href="@{personnel_eight.html}">职务犯罪预防部门</a>
        <a th:href="@{personnel_nine.html}">案件管理部门</a>
        <a th:href="@{personnel_ten.html}">检察技术部门</a>
        <a th:href="@{personnel_eleven.html}">纪检、监察部门</a>
        <a th:href="@{personnel_twelve.html}">机关服务中心</a>
      </div>
      <div class="collapsed">
        <span>机关人员管理 </span>
        <a href="introductions.html">检察人员基本信息</a>
        <a href="manager_books_record.html">人事变动查询</a>
        <a href="manager_books_record.html">检察官级别查询</a>
        <a href="manager_books_record.html">考核管理</a>
      </div>
      <div class="collapsed">
        <span>账套管理</span>
        <a href="book_borrow.html">账套管理</a>
        <a href="book_renew.html">工程项目</a>
        <a href="book_return.html">财务项目</a>
        <a href="book_return.html">后勤保障项目</a>
        <a href="book_return.html">统计报表</a>
      </div>
      <div class="collapsed">
        <span>检务信息</span>
        <a href="books_record_query.html">检务公开</a>
        <a href="books_borrow_query.html">检务发布</a>
        <a href="book_return.html">检务管理</a>
      </div>
      <div class="collapsed">
        <span>用户管理</span>
        <a href="books_record_query.html">用户查询</a>
        <a href="books_borrow_query.html">用户管理</a>
        <a href="books_borrow_query.html">权限查询</a>
      </div>
    </div>
  </div>
  <!--left-->
  <div class="Switch"></div>
  <script type="text/javascript">
    $(document).ready(function(e) {
      $(".Switch").click(function(){
        $(".left").toggle();
    	});
    });
  </script>
  <!--show or hide left-->
  <div class="right"  id="mainFrame">
    <div class="right_cont">
      <ul class="breadcrumb">当前位置：
        <a href="#">首页</a>
      </ul>
    </div>
    <div>
  </div>
      <div class="panel panel-default mt-20">
          <div class="panel-header">检务公告</div>
          <div class="panel-body">
              <table class="table table-border table-bordered table-striped mt-20">
                  <thead>
                  <tr>
                      <th class="col1">序号</th>
                      <th class="col2">发布时间</th>
                      <th class="col3">标题</th>
                      <th class="col4">作者姓名</th>
                      <th class="col5">检务类型</th>
                      <th class="col6">操作</th>
                  </tr>
                  </thead>
                  <tbody>
                  <tr align="center" th:each="announcement:${announcementList}">
                      <th class="col1" th:text="${announcement.id}"></th>
                      <td class="col2" th:text="${announcement.sendTime}"></td>
                      <td class="col3" th:text="${announcement.title}"></td>
                      <td class="col4" th:text="${announcement.authorName}"></td>
                      <td class="col5" th:text="${announcement.styleName}"></td>
                      <td class="col6"><a th:href="@{'ann/detials/'+${announcement.id}}">详情</a></td>
                  </tr>
                  </tbody>
              </table>
          </div>
      </div>
      <input type="text" th:value="${pageCount}"  id="sjzl" style="display: none">
      <script type="text/javascript">
          var pageSize = 10;    //每页显示的记录条数
          var curPage=0;        //当前页
          var lastPage;        //最后页
          var direct=0;        //方向
          var len;            //总行数
          var page;            //总页数
          var begin;
          var end;
          $(document).ready(function display(){
              len =$("#sjzl").val();    // 求这个表的总行数，剔除第一行介绍
              page=len % pageSize==0 ? len/pageSize : Math.floor(len/pageSize)+1;//根据记录条数，计算页数
              // alert("page==="+page);
              curPage=1;    // 设置当前为第一页
              displayPage(1);//显示第一页
              document.getElementById("btn0").innerHTML="当前 " + curPage + "/" + page + " 页   ";    // 显示当前多少页
              document.getElementById("sjzl").innerHTML="数据总量 " + len + "";        // 显示数据量
              $("#btn1").click(function firstPage(){    // 首页
                  curPage=1;
                  direct = 0;
                  displayPage();
              });
              $("#btn2").click(function frontPage(){    // 上一页
                  direct=-1;
                  displayPage();
                  $.get("introduction/"+curPage);
              });
              $("#btn3").click(function nextPage(){    // 下一页
                  direct=1;
                  displayPage();
                  $.get("introduction/"+curPage);
              });
              $("#btn4").click(function lastPage(){    // 尾页
                  curPage=page;
                  direct = 0;
                  displayPage();
                  $.get("introduction/"+curPage);
              });
              $("#btn5").click(function changePage(){    // 转页
                  curPage=document.getElementById("changePage").value * 1;
                  if (!/^[1-9]\d*$/.test(curPage)) {
                      alert("请输入正整数");
                      return ;
                  }
                  if (curPage > page) {
                      alert("超出数据页面");
                      return ;
                  }
                  direct = 0;
                  displayPage();
                  $.get("introduction/"+curPage);
              });
          });
          function displayPage(){
              if(curPage <=1 && direct==-1){
                  direct=0;
                  alert("已经是第一页了");
                  return;
              } else if (curPage >= page && direct==1) {
                  direct=0;
                  alert("已经是最后一页了");
                  return ;
              }
              lastPage = curPage;
              // 修复当len=1时，curPage计算得0的bug
              if (len > pageSize) {
                  curPage = ((curPage + direct + len) % len);
              } else {
                  curPage = 1;
              }

              document.getElementById("btn0").innerHTML="当前 " + curPage + "/" + page + " 页   ";        // 显示当前多少页
              begin=(curPage-1)*pageSize + 1;// 起始记录号
              end = begin + 1*pageSize - 1;    // 末尾记录号
              if(end > len ) end=len;
              $("#mytable tr").hide();    // 首先，设置这行为隐藏
              $("#mytable tr").each(function(i){    // 然后，通过条件判断决定本行是否恢复显示
                  if((i>=begin && i<=end) || i==0 )//显示begin<=x<=end的记录
                      $(this).show();
              });
          }
      </script>
      <a id="btn0"></a>
      <a  href="#" id="btn1">首页</a>
      <a  href="#" id="btn2">上一页</a>
      <a  href="#" id="btn3">下一页</a>
      <a  href="#" id="btn4">尾页</a>
      <a>转到 </a>
      <input id="changePage" type="text" size="1" maxlength="4"/>
      <a>页 </a>
      <a  href="#" id="btn5">跳转</a>
</div>
</div>
  <!--right-->
<script>
  !function(){
    laydate.skin('molv');
    laydate({elem: '#Calendar'});
    }();
</script>
 
</body>
</html>